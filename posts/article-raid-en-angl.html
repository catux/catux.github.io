<!DOCTYPE html>
<html>
<head lang="cat">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Associació d'usuaris de GNU/Linux de la Catalunya Central">
    <meta name="keywords" content="gnu/linux, linux, programari lliure, gnu, lug, associacio, manresa, sant joan de vilatorrada, catalan, català, catalunya">
    <meta name="author" content="Catux">
    <link rel="icon" href="https://catux.org/images/favicon.ico">

    <title>Catux</title>

    <link rel="stylesheet" type="text/css" href="https://catux.org/css/main.css">
    <script src="https://catux.org/js/main.js"></script>
</head>
<body>
    <div class="navbar-wrapper">
        <div class="container">

            <nav class="navbar navbar-inverse">
                <div class="container">
                    <div class="navbar-header col-sm-5">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a href="https://catux.org/">
                            <img src="https://catux.org/images/catuxlogo.png" alt="Catux" width="40%"><br>
                            <div class="visible-lg"> Associació d'usuaris de GNU/Linux de la Catalunya Central</div>
                        </a>
                    </div>
                    <div id="navbar" class="navbar-collapse collapse navbar-links">
                        <ul class="nav navbar-nav navbar-right">
                            <li><a href="https://catux.org/post_list.html">Blog</a></li>
                            <li><a href="https://catux.org/traduccio.html">Traducció</a></li>
                            <li><a href="https://catux.org/contactar.html">Contactar</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </div> <!-- /.navbar-wrapper -->

    <div class="container">
        
    <div class="container-fluid">

        <div class="post">
            <a href="https://catux.org/post_list.html">
                <i class="fas fa-chevron-left"></i>
                Arxius
            </a>

            <h1>
                
        Article RAID en anglés
    
            </h1>

            <h3>
                Escrit al
                
        2005-12-04 00:00:00
    
                per
                
        cpina
    
            </h3>

            <p>
                
        <p><span class="noticia">This article is a benchmark using RAID 0 Striped, RAID 0 Linear and RAID 1 Mirroring. What is faster? How much faster? And more answers on it.<br /> <br /> ------------------<br /> <br /> La comparativa dels sistemes RAID, publicat fa dies en <a href="http://www.catux.org/index.php?contingut=articles&amp;num=96">catal&agrave;</a> i en <a href="http://www.catux.org/index.php?contingut=articles&amp;num=98">castell&agrave;</a>, ara tamb&eacute; en <a href="http://www.catux.org/index.php?contingut=articles&amp;num=101">angl&egrave;s.</a><br /> <br /> Ens han ajudat a la revisi&oacute; de la traducci&oacute; els nostres <a href="http://catux.org/index.php?num=350">companys-agermanats</a> d&#39;<a href="http://scarborough.lug.org.uk/">Scarborough LUG</a>.</span>&nbsp;</p><h2>Index</h2><br /> <br /> <div id="article" class="article_normal"><li><a href="http://www.catux.org/index.php?contingut=articles&amp;num=101#introduccion">Introduction</a><br /> </li><li><a href="http://www.catux.org/index.php?contingut=articles&amp;num=101#raid_review">A little review of RAID</a><br /> </li><li><a href="http://www.catux.org/index.php?contingut=articles&amp;num=101#info">Benchmarking and methodology</a><br /> </li><li><a href="http://www.catux.org/index.php?contingut=articles&amp;num=101#results">Results</a><br /> </li><li><a href="http://www.catux.org/index.php?contingut=articles&amp;num=101#conclusions">Conclusions</a><br /> </li><li><a href="http://www.catux.org/index.php?contingut=articles&amp;num=101#annex">Annex</a><br /> <br /> <br /> <br /> <strong>Main parts: <a href="http://www.catux.org/index.php?contingut=articles&amp;num=101#results">Results</a> and <a href="http://www.catux.org/index.php?contingut=articles&amp;num=101#conclusions">conclusions.</a></strong><br /> <br /> <h2><a name="introduccion" title="introduccion"></a>Introduction</h2><br /> A long time ago, I wanted to mount a Mirroring RAID using Linux in some computers. A few days ago, I decided to search for more information.<br /> Obviously, the first thing I did was to decide whether I would use Hardware RAID or Software RAID. What are the advantages and/or difficulties of each one? The principle ones are:<br /> <strong>Hardware RAID:</strong><br /> <br /> </li><li>Theoretically it&#39;s faster<br /> </li><li>It is said that it fails less, so it&#39;s more trustworthy<br /> <br /> <br /> <strong>Software RAID:</strong><br /> <br /> </li><li>More flexibility when mounting together (different hard disks can be used without problems, because it is normally done at partition level)<br /> </li><li>Cheaper: it&#39;s not necessary to buy a new device<br /> </li><li>It doesn&#39;t depend on a RAID Card - which can be broken<br /> </li><li>It&#39;s known by its slowness<br /> <br /> <br /> Although having this reputation, my question was ? <u>Was a RAID 1 System too slow? Was it slower than not having any RAID?</u> In fact, there are people that say that it is the other way round -these people say that having Software RAID 1 is faster than having just one hard disk drive.. In any case, who is right?<br /> <br /> For that reason I&#39;m going to ask the following question: &quot;Is Software RAID slower than a simple hard disk?&quot;. We will try to repeat that benchmark again when a RAID card is available.<br /> The only reference that we  found is in <a href="http://www.tldp.org/HOWTO/Software-RAID-HOWTO-9.html">Chapter 9 Perfomance</a> inside RAID Howto, but it&#39;s not very complete.<br /> <br /> <h2><a name="raid_review" title="raid_review"></a>A short review of RAID</h2><br /> This article is not going to explain neither the RAID configuration nor how it works internally. But we will do a short review on it, just for reference.<br /> <br /> RAID is a management system for hard disks (a RAID can be done between a Pendrive and a file inside a hard disk, and many more combinations). Software RAID allows many possible configurations, such as:<br /> <br /> <br /> </li><li><strong>RAID 0 Linear Mode:</strong> a 20GB partition with another 20GB partition will become a 40GB one - like being side by side<br /> </li><li><strong>RAID 0 Striped:</strong> it&#39;s the same as the other, 20 GB + 20 GB = 40 GB. But in this case, a 10MB file will probably have 5MB in one partition and 5MB in another one. Theoretically it has excellent file access speeds<br /> </li><li><strong>RAID 1 Mirroring:</strong> 20 GB + 20 GB = 20 GB, but in this case, if a hard disk fails, it doesn&#39;t matter because it works properly and informs us that we have to change the hard disk. You can add more hard disks: 20 GB + 20 GB + 20 GB, just in case the two of them fail<br /> </li><li><strong>RAID 5:</strong> 20 GB + 20 GB + 20 GB = 40 GB, one hard disk can fail (not two). This system has not yet been benchmarked<br /> <br /> <br /> There many reasons to choose to use RAID Systems. We can use it in order to protect our data (RAID 1 and RAID 5) or just for having only one volume with a lot of capacity (RAID 0)<br /> <br /> <h2><a name="info" title="info"></a>Benchmarks and Methodology</h2><br /> <h3>The Benchmarks</h3><br /> The following benchmarks are minimally realistic and varied. For that reason, each person should study the part that is most interesting for him and extract his own conclusions.<br /> <br /> The first benchmark has been done with <a href="http://www.coker.com.au/bonnie++/">bonnie++</a>. This program does a series of operations in the indicated directory. Firstly, <strong>it does a database simulation</strong>: writing and reading blocks and characters with and without order. Afterwards, it <strong>creates, reads and deletes a lot of files like Postfix or Squid do</strong>. Bonnie provides a result for every section (for example in KB/s) but this benchmark only takes the total time of the process. Maybe an annex will be done in the future with this information.<br /> <br /> Then, we do a dd from /dev/zero to RAID device. We are trying to know which the <strong>writing speed</strong> to RAID is.<br /> Next, we do the same but the other way round: read the copied file from /dev/zero and return them to /dev/null. We are trying to prove <strong>how efficient readings are.</strong><br /> <br /> The following action we do is a cat /no_raid/linux-2.6.13.tar &gt; /dev/null in order to have it all in the buffers and cache and copy it to the RAID (<strong>writing again</strong>).<br />  <br /> Then, we unpack using tar -xf linux.tar inside the RAID (<strong>it is almost written</strong> because it is copied and the RAM of the system is enough  to fit the file).<br /> <br /> Finally a cp -rf linux-2.6.13 test/ is done, so the whole kernel tree is copied, almost 300MB.<br /> <br /> <strong>SUMMARY</strong><br /> <br /> </li><li>Bonnie++ (varied operations)<br /> </li><li>dd /dev/zero file: writing<br /> </li><li>cp fichero /dev/null: reading<br /> </li><li>cat /noraid/linux.tar &gt; /dev/null; cp /noraid/linux.tar /raid/linux.tar: few writings. This file is too small for conclusions  (cat is done to copy the file into RAM memory)<br /> </li><li>tar -xf linux.tar: almost 300 MB. Reading/writing<br /> </li><li>cp -rf linux/ directory: 300 MB copied. Reading/writing<br /> <br /> It&#39;s worth mentioning that in &quot;real time&quot; measurement has been used in each test. In any test, the difference between &quot;real time&quot;, &quot;user time&quot; and &quot;system time&quot; is not very significant using just one hard disk or RAID. There must be more CPU time because Software RAID is done via the Kernel without hardware support (it is not real hardware RAID). This has been neither critical nor restricting in our benchmarks.. It is only when synchronizing the RAID 1 mirroring system (normally, only the first time) but it should not be that critical for the today&#39;s CPUs.<br /> <br /> <h3>Concurrence</h3><br /> Here is the main point of the article. What happens when there is more than one process accessing the RAID? Is it slower or faster than a simple Hard Disk? If so then in which RAIDs?<br /> <br /> We have done benchmarks with 1 process, two, three and four concurrent processes. It can be less useful for domestic environments, but it&#39;s commonly used in servers (various databases accessing simultaneously, file servers, web servers, etc.). There are very interesting results: mainly in speed relations, concurrency, RAID 0, RAID 1, etc.<br /> <br /> <h3>Repeating the benchmarks</h3><br /> We have repeated the afore mentioned benchmarks 4 times (excluding 4 processes that have been repeated 3 times) and extracted the average results. Benchmarks have been automatised using a script, so we have done the same in every case.<br /> <br /> <h2><a name="results" title="results"></a>Results</h2><br /> <a name="tables" title="tables"></a><h3>Tables with times</h3><br /> The total time isn&#39;t very relevant by copying differing amounts of data we can change the best result into the worst result. You have to think about which operations you normally do and try to find a benchmark that fits you.<br /> <br /> <br /> <br /> <table border="1" cellspacing="0">   <tbody><tr> <td width="154" height="27" align="left"><strong>Resum table times</strong></td> <td width="101" align="left">&nbsp;</td> <td width="89" align="left">&nbsp;</td> <td width="89" align="left">&nbsp;</td> <td width="89" align="left">&nbsp;</td> <td width="89" align="left">&nbsp;</td> <td width="89" align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left"><strong>1 Process (average)</strong></td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left">&nbsp;</td> <td align="left"><strong>Single disk 1</strong></td> <td align="left"><strong>Single disk 2</strong></td> <td align="left"><strong>Disks average</strong></td> <td align="left"><strong>RAID 0 Linear</strong></td> <td align="left"><strong>RAID 0 Striped</strong></td> <td align="left"><strong>RAID 1</strong></td> </tr>   <tr> <td height="17" align="left"><strong>Bonnie</strong></td> <td align="right">07:08</td> <td align="right">07:06</td> <td align="right">07:07</td> <td align="right">07:03</td> <td align="right">06:31</td> <td align="right">07:35</td> </tr>   <tr> <td height="17" align="left"><strong>dd null 7000M</strong></td> <td align="right">02:39</td> <td align="right">02:39</td> <td align="right">02:39</td> <td align="right">02:41</td> <td align="right">02:05</td> <td align="right">04:01</td> </tr>   <tr> <td height="17" align="left"><strong>cp 7000M null</strong></td> <td align="right">03:15</td> <td align="right">03:19</td> <td align="right">03:17</td> <td align="right">03:18</td> <td align="right">02:38</td> <td align="right">03:32</td> </tr>   <tr> <td height="17" align="left"><strong>cp linux.tar to RAID</strong></td> <td align="right">00:04</td> <td align="right">00:05</td> <td align="right">00:04</td> <td align="right">00:04</td> <td align="right">00:05</td> <td align="right">00:05</td> </tr>   <tr> <td height="17" align="left"><strong>tar -xf linux.tar</strong></td> <td align="right">00:29</td> <td align="right">00:27</td> <td align="right">00:28</td> <td align="right">00:25</td> <td align="right">00:25</td> <td align="right">00:31</td> </tr>   <tr> <td height="17" align="left"><strong>cp -rf linux test</strong></td> <td align="right">00:58</td> <td align="right">00:57</td> <td align="right">00:57</td> <td align="right">00:49</td> <td align="right">00:50</td> <td align="right">01:01</td> </tr>   <tr> <td height="17" align="left"><strong>Total time</strong></td> <td align="right"><strong>00:14:32</strong></td> <td align="right"><strong>00:14:31</strong></td> <td align="right"><strong>00:14:32</strong></td> <td align="right"><strong>00:14:19</strong></td> <td align="right"><strong>00:12:34</strong></td> <td align="right"><strong>00:16:44</strong></td> </tr>   <tr> <td height="17" align="left"><strong>% more slow</strong></td> <td align="right">0,06%</td> <td align="right">-0,06%</td> <td align="right">0,00%</td> <td align="right">-1,46%</td> <td align="right" bgcolor="#00ff00">-13,56%</td> <td align="right" bgcolor="#ff0000">15,17%</td> </tr>   <tr> <td height="17" align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left"><strong>2 Processes (average)</strong></td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left">&nbsp;</td> <td align="left"><strong>Single disk 1</strong></td> <td align="left"><strong>Single disk 2</strong></td> <td align="left"><strong>Disks average</strong></td> <td align="left"><strong>RAID 0 Linear</strong></td> <td align="left"><strong>RAID 0 Striped</strong></td> <td align="left"><strong>RAID 1</strong></td> </tr>   <tr> <td height="17" align="left"><strong>Bonnie</strong></td> <td align="right">15:29</td> <td align="right">15:57</td> <td align="right">15:43</td> <td align="right">13:39</td> <td align="right">13:52</td> <td align="right">15:02</td> </tr>   <tr> <td height="17" align="left"><strong>dd null 7000M</strong></td> <td align="right">05:34</td> <td align="right">05:41</td> <td align="right">05:38</td> <td align="right">05:37</td> <td align="right">04:01</td> <td align="right">07:57</td> </tr>   <tr> <td height="17" align="left"><strong>cp 7000M null</strong></td> <td align="right">06:00</td> <td align="right">07:54</td> <td align="right">06:57</td> <td align="right">07:12</td> <td align="right">06:33</td> <td align="right">05:39</td> </tr>   <tr> <td height="17" align="left"><strong>cp linux.tar to RAID</strong></td> <td align="right">00:09</td> <td align="right">00:17</td> <td align="right">00:13</td> <td align="right">00:14</td> <td align="right">00:12</td> <td align="right">00:20</td> </tr>   <tr> <td height="17" align="left"><strong>tar -xf linux.tar</strong></td> <td align="right">02:26</td> <td align="right">01:15</td> <td align="right">01:50</td> <td align="right">00:56</td> <td align="right">00:56</td> <td align="right">01:09</td> </tr>   <tr> <td height="17" align="left"><strong>cp -rf linux test</strong></td> <td align="right">03:04</td> <td align="right">02:45</td> <td align="right">02:55</td> <td align="right">02:00</td> <td align="right">02:08</td> <td align="right">02:07</td> </tr>   <tr> <td height="17" align="left"><strong>Total time</strong></td> <td align="right"><strong>00:32:41</strong></td> <td align="right"><strong>00:33:49</strong></td> <td align="right"><strong>00:33:15</strong></td> <td align="right"><strong>00:29:38</strong></td> <td align="right"><strong>00:27:42</strong></td> <td align="right"><strong>00:32:13</strong></td> </tr>   <tr> <td height="17" align="left"><strong>% more slow</strong></td> <td align="right">-1,70%</td> <td align="right">1,70%</td> <td align="right">0,00%</td> <td align="right">-10,87%</td> <td align="right" bgcolor="#00ff00">-16,70%</td> <td align="right" bgcolor="#ff0000">-3,11%</td> </tr>   <tr> <td height="17" align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left"><strong>3 Processes (average)</strong></td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left">&nbsp;</td> <td align="left"><strong>Single disk 1</strong></td> <td align="left"><strong>Single disk 2</strong></td> <td align="left"><strong>Disks average</strong></td> <td align="left"><strong>RAID 0 Linear</strong></td> <td align="left"><strong>RAID 0 Striped</strong></td> <td align="left"><strong>RAID 1</strong></td> </tr>   <tr> <td height="17" align="left"><strong>Bonnie</strong></td> <td align="right">23:52</td> <td align="right">24:58</td> <td align="right">24:25</td> <td align="right">20:54</td> <td align="right">20:42</td> <td align="right">22:10</td> </tr>   <tr> <td height="17" align="left"><strong>dd null 7000M</strong></td> <td align="right">08:24</td> <td align="right">08:52</td> <td align="right">08:38</td> <td align="right">08:45</td> <td align="right">06:01</td> <td align="right">11:51</td> </tr>   <tr> <td height="17" align="left"><strong>cp 7000M null</strong></td> <td align="right">09:30</td> <td align="right">12:56</td> <td align="right">11:13</td> <td align="right">12:38</td> <td align="right">09:25</td> <td align="right">08:12</td> </tr>   <tr> <td height="17" align="left"><strong>cp linux.tar to RAID</strong></td> <td align="right">00:14</td> <td align="right">00:23</td> <td align="right">00:19</td> <td align="right">00:23</td> <td align="right">00:20</td> <td align="right">00:27</td> </tr>   <tr> <td height="17" align="left"><strong>tar -xf linux.tar</strong></td> <td align="right">01:49</td> <td align="right">01:42</td> <td align="right">01:45</td> <td align="right">01:25</td> <td align="right">01:22</td> <td align="right">01:44</td> </tr>   <tr> <td height="17" align="left"><strong>cp -rf linux test</strong></td> <td align="right">05:15</td> <td align="right">04:53</td> <td align="right">05:04</td> <td align="right">03:12</td> <td align="right">03:47</td> <td align="right">03:18</td> </tr>   <tr> <td height="17" align="left"><strong>Total time</strong></td> <td align="right"><strong>00:49:04</strong></td> <td align="right"><strong>00:53:45</strong></td> <td align="right"><strong>00:51:25</strong></td> <td align="right"><strong>00:47:18</strong></td> <td align="right"><strong>00:41:36</strong></td> <td align="right"><strong>00:47:43</strong></td> </tr>   <tr> <td height="17" align="left"><strong>% more slow</strong></td> <td align="right">-4,55%</td> <td align="right">4,55%</td> <td align="right">0,00%</td> <td align="right">-7,99%</td> <td align="right" bgcolor="#00ff00">-19,08%</td> <td align="right" bgcolor="#ff0000">-7,19%</td> </tr>   <tr> <td height="17" align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left"><strong>4 Processes (average)</strong></td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left">&nbsp;</td> <td align="left"><strong>Single disk 1</strong></td> <td align="left"><strong>Single disk 2</strong></td> <td align="left"><strong>Disks average</strong></td> <td align="left"><strong>RAID 0 Linear</strong></td> <td align="left"><strong>RAID 0 Striped</strong></td> <td align="left"><strong>RAID 1</strong></td> </tr>   <tr> <td height="17" align="left"><strong>Bonnie</strong></td> <td align="right">32:44</td> <td align="right">34:07</td> <td align="right">33:25</td> <td align="right">28:02</td> <td align="right">27:53</td><td align="right">29:54</td> </tr>   <tr> <td height="17" align="left"><strong>dd null 7000M</strong></td> <td align="right">11:11</td> <td align="right">11:56</td> <td align="right">11:33</td> <td align="right">11:49</td> <td align="right">08:04</td> <td align="right">15:47</td> </tr>   <tr> <td height="17" align="left"><strong>cp 7000M null</strong></td> <td align="right">12:47</td> <td align="right">17:35</td> <td align="right">15:11</td> <td align="right">17:23</td> <td align="right">12:36</td> <td align="right">10:02</td> </tr>   <tr> <td height="17" align="left"><strong>cp linux.tar to RAID</strong></td> <td align="right">00:21</td> <td align="right">00:34</td> <td align="right">00:28</td> <td align="right">00:32</td> <td align="right">00:27</td> <td align="right">00:40</td> </tr>   <tr> <td height="17" align="left"><strong>tar -xf linux.tar</strong></td> <td align="right">02:28</td> <td align="right">02:08</td> <td align="right">02:18</td> <td align="right">01:51</td> <td align="right">01:46</td> <td align="right">02:18</td> </tr>   <tr> <td height="17" align="left"><strong>cp -rf linux test</strong></td> <td align="right">05:56</td> <td align="right">05:36</td> <td align="right">05:46</td> <td align="right">03:11</td> <td align="right">04:16</td> <td align="right">03:50</td> </tr>   <tr> <td height="17" align="left"><strong>Total time</strong></td> <td align="right"><strong>01:05:26</strong></td> <td align="right"><strong>01:11:55</strong></td> <td align="right"><strong>01:08:41</strong></td> <td align="right"><strong>01:02:48</strong></td> <td align="right"><strong>00:55:02</strong></td> <td align="right"><strong>01:02:31</strong></td> </tr>   <tr> <td height="17" align="left"><strong>% more slow</strong></td> <td align="right">-4,72%</td> <td align="right">4,72%</td> <td align="right">0,00%</td> <td align="right">-8,55%</td> <td align="right" bgcolor="#00ff00">-19,86%</td> <td align="right" bgcolor="#ff0000">-8,97%</td> </tr>  </tbody></table><br /> <br /> <br /> <br /> <h3>Percentage table</h3><br /> The last row of every table is the average percentage. The time percentage has not been done becausethe result is not dependent upon the duration of benchmarks.<br /> <br /> <br /> <br /> <br /> <br /> 			<br /> <br /> <table border="1" cellspacing="0">   <tbody><tr> <td width="143" height="27" align="left"><strong>Resume table 2</strong></td> <td width="89" align="left">&nbsp;</td> <td width="89" align="left">&nbsp;</td> <td width="89" align="left">&nbsp;</td> <td width="89" align="left">&nbsp;</td> <td width="89" align="left">&nbsp;</td> <td width="89" align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left"><strong>1 Proces (average)</strong></td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left">&nbsp;</td> <td align="left"><strong>Single disk 1</strong></td> <td align="left"><strong>Single disk 2</strong></td> <td align="left"><strong>Disks average</strong></td> <td align="left"><strong>RAID 0 Linear</strong></td> <td align="left"><strong>RAID 0 Striped</strong></td> <td align="left"><strong>RAID 1</strong></td> </tr>   <tr> <td height="17" align="left"><strong>Bonnie</strong></td> <td align="right">0,29%</td> <td align="right">-0,29%</td> <td align="right">0,00%</td> <td align="right">-1,00%</td> <td align="right">-8,32%</td> <td align="right">6,50%</td> </tr>   <tr> <td height="17" align="left"><strong>dd null 7000M</strong></td> <td align="right">-0,08%</td> <td align="right">0,08%</td> <td align="right">0,00%</td> <td align="right">1,18%</td> <td align="right">-21,20%</td> <td align="right">52,09%</td> </tr>   <tr> <td height="17" align="left"><strong>cp 7000M null</strong></td> <td align="right">-0,95%</td> <td align="right">0,95%</td> <td align="right">0,00%</td> <td align="right">0,57%</td> <td align="right">-19,87%</td> <td align="right">7,56%</td> </tr>   <tr> <td height="17" align="left"><strong>cp linux.tar to RAID</strong></td> <td align="right">-5,88%</td> <td align="right">5,88%</td> <td align="right">0,00%</td> <td align="right">0,00%</td> <td align="right">5,88%</td> <td align="right">23,53%</td> </tr>   <tr> <td height="17" align="left"><strong>tar -xf linux.tar</strong></td> <td align="right">2,68%</td> <td align="right">-2,68%</td> <td align="right">0,00%</td> <td align="right">-11,61%</td> <td align="right">-9,82%</td> <td align="right">9,82%</td> </tr>   <tr> <td height="17" align="left"><strong>cp -rf linux test</strong></td> <td align="right">1,31%</td> <td align="right">-1,31%</td> <td align="right">0,00%</td> <td align="right">-14,41%</td> <td align="right">-13,10%</td> <td align="right">5,68%</td> </tr>   <tr> <td height="17" align="left"><strong>Total time</strong></td> <td align="right"><strong>00:14:32</strong></td> <td align="right"><strong>00:14:31</strong></td> <td align="right"><strong>00:14:32</strong></td> <td align="right"><strong>00:14:19</strong></td> <td align="right"><strong>00:12:34</strong></td> <td align="right"><strong>00:16:44</strong></td> </tr>   <tr> <td height="17" align="left"><strong>% slower</strong></td> <td align="right">0,06%</td> <td align="right">-0,06%</td> <td align="right">0,00%</td> <td align="right">-1,46%</td> <td align="right" bgcolor="#00ff00">-13,56%</td> <td align="right" bgcolor="#ff0000">15,17%</td> </tr>   <tr> <td height="17" align="left"><strong>% average slower</strong></td> <td align="right">-0,44%</td> <td align="right">0,44%</td><td align="right">0,00%</td> <td align="right">-4,21%</td> <td align="right" bgcolor="#00ff00">-11,07%</td> <td align="right" bgcolor="#ff0000">17,53%</td> </tr>   <tr> <td height="17" align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left"><strong>2 Proceses (average)</strong></td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left">&nbsp;</td> <td align="left"><strong>Single disk 1</strong></td> <td align="left"><strong>Single disk 2</strong></td> <td align="left"><strong>Disks average</strong></td> <td align="left"><strong>RAID 0 Linear</strong></td> <td align="left"><strong>RAID 0 Striped</strong></td> <td align="left"><strong>RAID 1</strong></td> </tr>   <tr> <td height="17" align="left"><strong>Bonnie</strong></td> <td align="right">-1,46%</td> <td align="right">1,46%</td> <td align="right">0,00%</td> <td align="right">-13,15%</td> <td align="right">-11,77%</td> <td align="right">-4,39%</td> </tr>   <tr> <td height="17" align="left"><strong>dd null 7000M</strong></td> <td align="right">-1,06%</td> <td align="right">1,06%</td> <td align="right">0,00%</td> <td align="right">-0,28%</td> <td align="right">-28,49%</td> <td align="right">41,34%</td> </tr>   <tr> <td height="17" align="left"><strong>cp 7000M null</strong></td> <td align="right">-13,72%</td> <td align="right">13,72%</td> <td align="right">0,00%</td> <td align="right">3,76%</td> <td align="right">-5,77%</td> <td align="right">-18,70%</td> </tr>   <tr> <td height="17" align="left"><strong>cp linux.tar to RAID</strong></td> <td align="right">-32,04%</td> <td align="right">32,04%</td> <td align="right">0,00%</td> <td align="right">6,80%</td> <td align="right">-6,80%</td> <td align="right">53,40%</td> </tr>   <tr> <td height="17" align="left"><strong>tar -xf linux.tar</strong></td> <td align="right">32,12%</td> <td align="right">-32,12%</td> <td align="right">0,00%</td> <td align="right">-49,24%</td> <td align="right">-49,69%</td> <td align="right">-37,45%</td> </tr>   <tr> <td height="17" align="left"><strong>cp -rf linux test</strong></td> <td align="right">5,26%</td> <td align="right">-5,26%</td> <td align="right">0,00%</td> <td align="right">-31,04%</td> <td align="right">-26,53%</td> <td align="right">-27,39%</td> </tr>   <tr> <td height="17" align="left"><strong>Total time</strong></td> <td align="right"><strong>00:32:41</strong></td> <td align="right"><strong>00:33:49</strong></td> <td align="right"><strong>00:33:15</strong></td> <td align="right"><strong>00:29:38</strong></td> <td align="right"><strong>00:27:42</strong></td> <td align="right"><strong>00:32:13</strong></td> </tr>   <tr> <td height="17" align="left"><strong>% more slow</strong></td> <td align="right">-1,70%</td> <td align="right">1,70%</td> <td align="right">0,00%</td> <td align="right">-10,87%</td> <td align="right" bgcolor="#00ff00">-16,70%</td> <td align="right" bgcolor="#ff0000">-3,11%</td> </tr>   <tr> <td height="17" align="left"><strong>% average slower</strong></td> <td align="right">-1,81%</td> <td align="right">1,81%</td> <td align="right">0,00%</td> <td align="right">-13,86%</td> <td align="right" bgcolor="#00ff00">-21,51%</td> <td align="right" bgcolor="#ff0000">1,14%</td> </tr>   <tr> <td height="17" align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left"><strong>3 Proceses (average)</strong></td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left">&nbsp;</td> <td align="left"><strong>Single disk 1</strong></td> <td align="left"><strong>Single disk 2</strong></td> <td align="left"><strong>Disks average</strong></td> <td align="left"><strong>RAID 0 Linear</strong></td> <td align="left"><strong>RAID 0 Striped</strong></td> <td align="left"><strong>RAID 1</strong></td> </tr>   <tr> <td height="17" align="left"><strong>Bonnie</strong></td> <td align="right">-2,25%</td> <td align="right">2,25%</td> <td align="right">0,00%</td> <td align="right">-14,39%</td> <td align="right">-15,26%</td> <td align="right">-9,22%</td> </tr>   <tr> <td height="17" align="left"><strong>dd null 7000M</strong></td> <td align="right">-2,72%</td> <td align="right">2,72%</td> <td align="right">0,00%</td> <td align="right">1,31%</td> <td align="right">-30,41%</td> <td align="right">37,18%</td> </tr>   <tr> <td height="17" align="left"><strong>cp 7000M null</strong></td> <td align="right">-15,30%</td> <td align="right">15,30%</td> <td align="right">0,00%</td> <td align="right">12,71%</td> <td align="right">-16,04%</td> <td align="right">-26,92%</td> </tr>   <tr> <td height="17" align="left"><strong>cp linux.tar to RAID</strong></td> <td align="right">-25,39%</td> <td align="right">25,39%</td> <td align="right">0,00%</td> <td align="right">25,39%</td><td align="right">8,76%</td> <td align="right">45,62%</td> </tr>   <tr> <td height="17" align="left"><strong>tar -xf linux.tar</strong></td> <td align="right">3,13%</td> <td align="right">-3,13%</td> <td align="right">0,00%</td> <td align="right">-19,43%</td> <td align="right">-22,36%</td> <td align="right">-0,83%</td> </tr>   <tr> <td height="17" align="left"><strong>cp -rf linux test</strong></td> <td align="right">3,60%</td> <td align="right">-3,60%</td> <td align="right">0,00%</td> <td align="right">-36,90%</td> <td align="right">-25,51%</td> <td align="right">-34,79%</td> </tr>   <tr> <td height="17" align="left"><strong>Total time</strong></td> <td align="right"><strong>00:49:04</strong></td> <td align="right"><strong>00:53:45</strong></td> <td align="right"><strong>00:51:25</strong></td> <td align="right"><strong>00:47:18</strong></td> <td align="right"><strong>00:41:36</strong></td> <td align="right"><strong>00:47:43</strong></td> </tr>   <tr> <td height="17" align="left"><strong>% slower</strong></td> <td align="right">-4,55%</td> <td align="right">4,55%</td> <td align="right">0,00%</td> <td align="right">-7,99%</td> <td align="right" bgcolor="#00ff00">-19,08%</td> <td align="right" bgcolor="#ff0000">-7,19%</td> </tr>   <tr> <td height="17" align="left"><strong>% average slower</strong></td> <td align="right">-6,49%</td> <td align="right">6,49%</td> <td align="right">0,00%</td> <td align="right">-5,22%</td> <td align="right" bgcolor="#00ff00">-16,80%</td> <td align="right" bgcolor="#ff0000">1,84%</td> </tr>   <tr> <td height="17" align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left"><strong>4 Proceses (average)</strong></td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> <td align="left">&nbsp;</td> </tr> <tr> <td height="17" align="left">&nbsp;</td> <td align="left"><strong>Single disk 1</strong></td> <td align="left"><strong>Single disk 2</strong></td> <td align="left"><strong>Disks average</strong></td> <td align="left"><strong>RAID 0 Linear</strong></td> <td align="left"><strong>RAID 0 Striped</strong></td> <td align="left"><strong>RAID 1</strong></td> </tr>   <tr> <td height="17" align="left"><strong>Bonnie</strong></td> <td align="right">-2,08%</td> <td align="right">2,08%</td> <td align="right">0,00%</td> <td align="right">-16,10%</td> <td align="right">-16,55%</td> <td align="right">-10,54%</td> </tr>   <tr> <td height="17" align="left"><strong>dd null 7000M</strong></td> <td align="right">-3,21%</td> <td align="right">3,21%</td> <td align="right">0,00%</td> <td align="right">2,20%</td> <td align="right">-30,23%</td> <td align="right">36,65%</td> </tr>   <tr> <td height="17" align="left"><strong>cp 7000M null</strong></td> <td align="right">-15,85%</td> <td align="right">15,85%</td> <td align="right">0,00%</td> <td align="right">14,51%</td> <td align="right">-16,97%</td> <td align="right">-33,93%</td> </tr>   <tr> <td height="17" align="left"><strong>cp linux.tar to RAID</strong></td> <td align="right">-22,24%</td> <td align="right">22,24%</td> <td align="right">0,00%</td> <td align="right">17,40%</td> <td align="right">-0,76%</td> <td align="right">46,44%</td> </tr>   <tr> <td height="17" align="left"><strong>tar -xf linux.tar</strong></td> <td align="right">7,26%</td><td align="right">-7,26%</td> <td align="right">0,00%</td> <td align="right">-19,30%</td> <td align="right">-23,23%</td> <td align="right">0,18%</td> </tr>   <tr> <td height="17" align="left"><strong>cp -rf linux test</strong></td> <td align="right">2,84%</td> <td align="right">-2,84%</td> <td align="right">0,00%</td> <td align="right">-44,82%</td> <td align="right">-26,01%</td> <td align="right">-33,57%</td> </tr>   <tr> <td height="17" align="left"><strong>Total time</strong></td> <td align="right"><strong>01:05:26</strong></td> <td align="right"><strong>01:11:55</strong></td> <td align="right"><strong>01:08:41</strong></td> <td align="right"><strong>01:02:48</strong></td> <td align="right"><strong>00:55:02</strong></td> <td align="right"><strong>01:02:31</strong></td> </tr>   <tr> <td height="17" align="left"><strong>% slower</strong></td> <td align="right">-4,72%</td> <td align="right">4,72%</td> <td align="right">0,00%</td> <td align="right">-8,55%</td> <td align="right" bgcolor="#00ff00">-19,86%</td> <td align="right" bgcolor="#ff0000">-8,97%</td> </tr>   <tr> <td height="17" align="left"><strong>% average slower</strong></td> <td align="right">-5,55%</td> <td align="right">5,55%</td> <td align="right">0,00%</td> <td align="right">-7,69%</td> <td align="right" bgcolor="#00ff00">-18,96%</td> <td align="right" bgcolor="#ff0000">0,87%</td> </tr>  </tbody></table><br /> <br /> <br /> <a name="graphics" title="graphics"></a><h2>Graphics</h2><br /> Las gr&aacute;ficas son respecto a los promedios de los porcentajes, al considerar-se m&aacute;s representativos que el tiempo.<br /> <img src="http://catux.org/imatges/articles/raid/1_proces.png" alt="" /> <br /> <img src="http://catux.org/imatges/articles/raid/2_proces.png" alt="" /> <br /> <img src="http://catux.org/imatges/articles/raid/3_proces.png" alt="" /> <br /> <img src="http://catux.org/imatges/articles/raid/4_proces.png" alt="" /> <br /> <br /> <h2><a name="conclusions" title="conclusions"></a>Conclusions</h2><br /> <br /> We can extract many conclusions, however the most pertinent are:<br /> <br /> </li><li><strong>RAID 1 Mirroring, 1 process.</strong> It is slower on the whole because it is 17.5% in the partial percentage. It can be useful by changing speed for the security of having another disk just in case one breaks. So it is safer, but slower. Time increases depending on the operation you do. Writing to disk (dd /dev/null file) penalises it a lot (50% slower). The other slow point (cp /home/carles/linux.tar /mnt/md0) may be not representative because it is too short. You will see that if we hadn&#39;t done the dd or cp benchmarks the result would have been between a 5 and a 10% slower (which agrees with the global results of Bonnie, which was 6% slower). It is worth mentioning that if it is a file server through the net, Web without database, etc. it may be possible that the network speed will be slower than the hard disk speed (with the exception of databases, which can make heavy use of the hard disk whilst only sending a bit of information.) so the final user won&#39;t be affected.<br /> <br /> </li><li><strong>RAID 1 Mirroring, 2, 3 and 4 simultaneous processes.</strong> Speed is prone to levelling out (with 2 and 3 processes it is a 1 or 2% slower, with 4 processes it is below 1%). It seems that the write operations are the most penalised. You must think about the writes and reads in your system. In general there are more reads (queries) than writes. Normally data is written once but read many times. You can also see that it is faster (with the exception of dd and cp) than just one disk. Bonnie++ says that it is 9% faster.<br /> <br /> </li><li><strong>RAID 0 Striped</strong>. It is faster than the others (with more than one process in almost every benchmark). If we wanted to increase the speed of our system it would be the best solution. For example it is commonly used in video edition environments, where large files are used. The good news is that you don&#39;t need Hardware RAID to increase speed. <strong>Software RAID is adequate and you can get  up to 20%</strong> ( some operations, like the ones with 2 processes, <strong>can reach 50%</strong>).<br /> <br /> <br /> </li><li><strong>Raid 1 Mirroring VS Raid 0 Striped.</strong> You can easily see that write operations penalise RAID 1 Mirroring more than RAID0 Striped. On the other hand, reading with various processes in RAID 1 is better than RAID 0.<br /> <br /> <br /> <h2><a name="annex" title="annex"></a>Annex</h2><br /> <h3>Benchmark relativity</h3><br /> Any benchmark is completely relative and must be read very carefully. Actually, it is possible that in any comparison the product/configuration/application A beats the B product in most sections.<br /> You have to be conscious of this fact. There is no such thing as a 100% trustworthy benchmark, it is simply a guide that people can use for evaluation.<br /> In any particular case, we should determine whether the results bear any relationship to the hardware used. Will the results change if we increase or decrease RAM memory? It shouldn&#39;t, but we must think about it. Is the hard disk usage similar to the benchmark&#39;s, and if so in which sections? Or maybe just changing the RAID chunk size, or using another filesystem, will mean that the results change. For all of these reasons, we should read benchmarks just like an indication. Every system has a particular configuration and it is impossible to benchmark everybody&#39;s configuration.<br /> <br /> <h3>Hardware</h3><br /> I have used a Pentium 3 at 860 MHz, with 756 MB RAM and a 2.6.12 Kernel. The distribution used is Debian Sarge.<br /> <br /> One hard disk is a Western Digital with a capacity of 80 GB, configured with UDMA 5 as master of primary IDE channel (hda). The other hard disk is a Seagate of 120 GB, also configured with UDMA 5 and as master of secondary IDE channel (hdc). It may be strange having two different hard disks in a RAID but it is more common than having the same model.<br /> <br /> <h3>Links</h3><br /> <br /> The most consulted pages are:<br /> <br /> </li><li><a href="http://gentoo-wiki.com/Talk:HOWTO_Gentoo_Install_on_Software_RAID">Gentoo Install on Software RAID</a><br /> </li><li><a href="http://www.tldp.org/HOWTO/Software-RAID-HOWTO.html">Software RAID Howto</a><br /> <br /> <br /> <br /> <h3>Statistics</h3><br /> You can <a href="http://catux.org/imatges/articles/raid/raid.ods">download</a> a spreadsheet with all given data.<br /> <br /> <h3>Thanks</h3><br /> Thanks to <a href="http://scarborough.lug.org.uk/">Scarborough LUG</a>, who has language-reviewed the article. After the revision, we have added some text, so it is possible that we have added some mistakes.<br /> </li></div>
    
            </p>

            <h3>
                Categories:
                
        Articles, Servidor
    
            </h3>

            <hr />
            <h1>Comentaris</h1>
            <ul class="list-group">
                
        <li class="list-group-item">Sense comentaris</li>
    
            </ul>


            <a href="https://catux.org/post_list.html">
                <i class="fas fa-chevron-left"></i>
                Arxius
            </a>
        </div>

    </div>


    </div> <!-- /.container -->

    <div class="container">
        <nav class="navbar navbar-inverse catux-footer">
            <p class="navbar-text">
                Tot el contingut de Catux està subjecte sota la nova versió de la llicència de
                <a href="http://creativecommons.org/licenses/by/2.5/es/deed.ca">Creative Commons</a>
            </p>
        </nav>
    </div>



</body>
</html>
